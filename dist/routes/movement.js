"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var _express=require("express"),_express2=_interopRequireDefault(_express),_models=require("../models/"),_models2=_interopRequireDefault(_models),_parse=require("../helpers/parse"),_parse2=_interopRequireDefault(_parse),router=_express2["default"].Router();router.get("/",function(e,t){console.log("GET movement/"),_models2["default"].find({}).sort("-ugly_date").exec(function(e,r){return e?t.sendStatus(500).json(e):void t.json(r)})}),router.post("/",function(e,t){console.log("POST movement/");var r=new Date,o=r.getDate(),s=r.getMonth(),u=r.getFullYear(),n=r.getHours(),l=r.getMinutes(),a=r.getSeconds(),d=o+" / "+s+" / "+u,i=n+":"+l+":"+a;_models2["default"].create({full_date:d,full_time:i,date:[{day:o,month:s,year:u}],time:[{hours:n,minutes:l,seconds:a}]},function(e,r){return e?t.sendStatus(500).json(e):((0,_parse2["default"])("Movement Detected","Push Sended"),void t.json(r))})}),exports["default"]=router;